<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>PÃ¡gina de Texto</title>
    <script>
        const params = new URLSearchParams(window.location.search);
        const chave = params.get("chave") || "padrao";

        const socket = new WebSocket("ws://" + location.host + "/ws/text/" + chave);

        socket.onmessage = function (event) {
            document.getElementById("texto").textContent = event.data;
        };

        function atualizarTexto() {
            const novoValor = document.getElementById("inputTexto").value;
            fetch("/text/" + chave, {
                method: "POST",
                headers: { "Content-Type": "text/plain" },
                body: novoValor
            });
        }
    </script>
</head>
<body>
<p id="texto">0</p>
<script>
    document.getElementById("chave").textContent = chave;
</script>
</body>
</html>
